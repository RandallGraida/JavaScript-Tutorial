<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript Objects</title>
</head>

<body>
  <script>
    // Example 8
    // 8a
    const basketballProduct = {
      basketball: 2095,
      'delivery-time': '3 days'
    };
    console.log(basketballProduct.basketball);

    // 8b
    basketballProduct.basketball = 2595;
    console.log(basketballProduct.basketball);

    // 8c
    console.log(basketballProduct['delivery-time']);

    //8d
    function comparePrice(product1, product2) {
      if (product1.price > product2.price) {
        return product2;
      } else {
        return product1;
      }
    }

    const product1 = {
      name: 'RTX 5090',
      price: 1999
    };

    const product2 = {
      name: 'RTX 5080',
      price: 999
    };

    const moreAffordableProduct = comparePrice(product1, product2);
    console.log(moreAffordableProduct);
    
    // 8e
    const product3 = {
      name: 'RTX 5070 ti',
      price: 749
    };

    const product4 = {
      name: 'RTX 5070',
      price: 549
    };

    function isSameProduct(product3, product4){
      if (product3 === product4){
        return true;
      } else {
        return false;
      }
    }

    const is_SameProduct = isSameProduct(product3, product4);
    console.log(is_SameProduct);

    // 8f
    const lowerCase = 'Good morning';
    console.log(lowerCase.toLowerCase());

    // 8g - String repeat
    const testString = 'test';
    const repeatedString = testString.repeat(2);

    console.log(repeatedString);

    // 8h
    // Calculator
    function calculator() {
      // User input
      const userInput = prompt(
      'Welcome to the Calculator App!\n' +
      '1. Addition\n' +
      '2. Subtraction\n' +
      '3. Multiplication\n' +
      '4. Division'
      );

      const inputNumber1 = parseFloat(prompt('Enter the first number:'));
      const inputNumber2 = parseFloat(prompt('Enter the second number:'));

      let result;

      // Perform calculation based on user input
      if (userInput === '1') {
        result = inputNumber1 + inputNumber2;
        alert(`Result: ${result}`);
      } 
      else if (userInput === '2') {
        result = inputNumber1 - inputNumber2;
        alert(`Result: ${result}`);
      } 
      else if (userInput === '3') {
        result = inputNumber1 * inputNumber2;
        alert(`Result: ${result}`);
      } 
      else if (userInput === '4') {
        if (inputNumber2 !== 0) {
          result = inputNumber1 / inputNumber2;
          alert(`Result: ${result}`);
        } else {
          alert('Division by zero is not allowed.');
          return;
        }
        } else {
        alert('Invalid option selected.');
        return;
      }

      // Save the last calculation to localStorage
      const lastCalculation = {
      firstNumber: inputNumber1,
      secondNumber: inputNumber2,
      operation: userInput,
      result: result
      };

      localStorage.setItem('lastCalculation', JSON.stringify(lastCalculation));
      alert('Last calculation saved!');
    }

    function getLastCalculation() {
      const lastCalculation = JSON.parse(localStorage.getItem('lastCalculation'));
      if (lastCalculation) {
      alert(
        `Last Calculation:\n` +
        `First Number: ${lastCalculation.firstNumber}\n` +
        `Second Number: ${lastCalculation.secondNumber}\n` +
        `Operation: ${lastCalculation.operation}\n` +
        `Result: ${lastCalculation.result}`
      );
      } else {
      alert('No previous calculation found.');
      }
    }

    // Run the calculator and display the last calculation
    //calculator();
    //getLastCalculation();

    // 8i
    function playGame(guess) {
      const randomNumber = Math.random();
      const result = randomNumber <= 0.5 ? 'Heads' : 'Tails';

      if (result === guess) {
        console.log('You win');
        alert('You win!');
      } else {
        console.log('You lose');
        alert('You lose!');
      }

      // Save the game result to localStorage
      const gameResult = {
        userGuess: guess,
        actualResult: result,
        outcome: result === guess ? 'Win' : 'Lose'
      };

      localStorage.setItem('lastGameResult', JSON.stringify(gameResult));
      alert('Game result saved!');
    }

    function getLastGameResult() {
      const lastGameResult = JSON.parse(localStorage.getItem('lastGameResult'));

      if (lastGameResult) {
      alert(
        `Last Game Result:\n` +
        `Your Guess: ${lastGameResult.userGuess}\n` +
        `Actual Result: ${lastGameResult.actualResult}\n` +
        `Outcome: ${lastGameResult.outcome}`
      );
        } else {
        alert('No previous game result found.');
        }
    }
    </script>

    <!--8i-->
    <button onclick="playGame('Heads')">Heads</button>
    <button onclick="playGame('Tails')">Tails</button>
    <button onclick="getLastGameResult()">Show Last Game Result</button>
</body>
</html>